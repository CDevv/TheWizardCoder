[gd_scene load_steps=8 format=3 uid="uid://b8wix4lm5g767"]

[ext_resource type="Texture2D" uid="uid://csexipk23remd" path="res://assets/ui/baseui.png" id="1_q5vyp"]
[ext_resource type="Script" path="res://scripts/displays/DialogueDisplay.cs" id="1_u23wf"]
[ext_resource type="Texture2D" uid="uid://c2qot3pr0oxof" path="res://assets/characters/portraits/nolan.png" id="2_ts8x8"]
[ext_resource type="PackedScene" uid="uid://capppjgr8n1ew" path="res://scenes/prefabs/text_button.tscn" id="2_y60jh"]
[ext_resource type="Theme" uid="uid://db7w42eb47dby" path="res://themes/main_theme.tres" id="3_0qck7"]

[sub_resource type="AtlasTexture" id="AtlasTexture_65rxj"]
atlas = ExtResource("2_ts8x8")
region = Rect2(0, 0, 50, 50)

[sub_resource type="SpriteFrames" id="SpriteFrames_td2l1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_65rxj")
}],
"loop": true,
"name": &"nolan",
"speed": 5.0
}]

[node name="Dialogue" type="CanvasLayer"]
script = ExtResource("1_u23wf")
ResponseTemplate = ExtResource("2_y60jh")

[node name="TextRect" type="NinePatchRect" parent="."]
offset_left = 32.0
offset_top = 320.0
offset_right = 320.0
offset_bottom = 392.0
scale = Vector2(2, 2)
texture = ExtResource("1_q5vyp")
patch_margin_left = 3
patch_margin_top = 3
patch_margin_right = 3
patch_margin_bottom = 3

[node name="Portrait" type="AnimatedSprite2D" parent="TextRect"]
unique_name_in_owner = true
position = Vector2(32, 32)
sprite_frames = SubResource("SpriteFrames_td2l1")
animation = &"nolan"

[node name="TextContainer" type="MarginContainer" parent="TextRect"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 64.0
offset_right = 512.0
offset_bottom = 144.0
scale = Vector2(0.5, 0.5)
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 16

[node name="DialogueText" type="RichTextLabel" parent="TextRect/TextContainer"]
unique_name_in_owner = true
layout_mode = 2
theme = ExtResource("3_0qck7")
theme_override_font_sizes/normal_font_size = 24
theme_override_font_sizes/bold_font_size = 24
theme_override_font_sizes/italics_font_size = 24
theme_override_font_sizes/bold_italics_font_size = 24
theme_override_font_sizes/mono_font_size = 24
bbcode_enabled = true
text = "Text
Text
Text"

[node name="ResponsesRect" type="NinePatchRect" parent="."]
unique_name_in_owner = true
offset_left = 352.0
offset_top = 160.0
offset_right = 480.0
offset_bottom = 232.0
scale = Vector2(2, 2)
texture = ExtResource("1_q5vyp")
patch_margin_left = 3
patch_margin_top = 3
patch_margin_right = 3
patch_margin_bottom = 3

[node name="Responses" type="VBoxContainer" parent="ResponsesRect"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 8.0
offset_top = 8.0
offset_right = 232.0
offset_bottom = 120.0
scale = Vector2(0.5, 0.5)

[node name="AudioPlayer" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
